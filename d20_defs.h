#pragma once

#define NUM_CLASSES  (stat_level_wizard - stat_level_barbarian + 1)
#define NUM_RACES 7



enum D20ActionType : int32_t
{
	D20A_NONE = -1,
	D20A_UNSPECIFIED_MOVE = 0,
	D20A_UNSPECIFIED_ATTACK,
	D20A_STANDARD_ATTACK,
	D20A_FULL_ATTACK,
	D20A_STANDARD_RANGED_ATTACK,
	D20A_RELOAD,
	D20A_5FOOTSTEP,
	D20A_MOVE,
	D20A_DOUBLE_MOVE,
	D20A_RUN,
	D20A_CAST_SPELL,
	D20A_HEAL,
	D20A_CLEAVE,
	D20A_ATTACK_OF_OPPORTUNITY,
	D20A_WHIRLWIND_ATTACK,
	D20A_TOUCH_ATTACK,
	D20A_TOTAL_DEFENSE,
	D20A_CHARGE,
	D20A_FALL_TO_PRONE,
	D20A_STAND_UP,
	D20A_TURN_UNDEAD,
	D20A_DEATH_TOUCH,
	D20A_PROTECTIVE_WARD,
	D20A_FEAT_OF_STRENGTH,
	D20A_BARDIC_MUSIC,
	D20A_PICKUP_OBJECT,
	D20A_COUP_DE_GRACE,
	D20A_USE_ITEM,
	D20A_BARBARIAN_RAGE,
	D20A_STUNNING_FIST,
	D20A_SMITE_EVIL, // 30
	D20A_LAY_ON_HANDS_SET,
	D20A_DETECT_EVIL,
	D20A_STOP_CONCENTRATION,
	D20A_BREAK_FREE,
	D20A_TRIP,
	D20A_REMOVE_DISEASE,
	D20A_ITEM_CREATION,
	D20A_WHOLENESS_OF_BODY_SET,
	D20A_USE_MAGIC_DEVICE_DECIPHER_WRITTEN_SPELL,
	D20A_TRACK,
	D20A_ACTIVATE_DEVICE_STANDARD,
	D20A_SPELL_CALL_LIGHTNING,
	D20A_AOO_MOVEMENT,
	D20A_CLASS_ABILITY_SA,
	D20A_ACTIVATE_DEVICE_FREE,
	D20A_OPEN_INVENTORY,
	D20A_ACTIVATE_DEVICE_SPELL,  // 47
	D20A_DISABLE_DEVICE,
	D20A_SEARCH,
	D20A_SNEAK,
	D20A_TALK,
	D20A_OPEN_LOCK, // verified
	D20A_SLEIGHT_OF_HAND,
	D20A_OPEN_CONTAINER, // verified; DLL string are accurate at least up to here
	D20A_THROW,
	D20A_THROW_GRENADE,
	D20A_FEINT, // verified; this was missing in the priginal python table, so that must be where it went off track
	D20A_READY_SPELL,
	D20A_READY_COUNTERSPELL,
	D20A_READY_ENTER,
	D20A_READY_EXIT,
	D20A_COPY_SCROLL, // verified
	D20A_READIED_INTERRUPT,
	D20A_LAY_ON_HANDS_USE,
	D20A_WHOLENESS_OF_BODY_USE,
	D20A_DISMISS_SPELLS,
	D20A_FLEE_COMBAT,
	D20A_USE_POTION,
	D20A_NUMACTIONS // always keep this last. Not counting D20A_NONE since it is unused (all the d20 action functions start cycling from D20A_UNSPECIFIED_MOVE)
};

enum D20CAF : uint32_t
{
	D20CAF_HIT = 1,
	D20CAF_CRITICAL = 2,
	D20CAF_RANGED = 4,
	D20CAF_ACTIONFRAME_PROCESSED = 8,
	D20CAF_NEED_PROJECTILE_HIT = 16,
	D20CAF_NEED_ANIM_COMPLETED = 32,
	D20CAF_ATTACK_OF_OPPORTUNITY = 64,
	D20CAF_CONCEALMENT_MISS = 128,
	D20CAF_TOUCH_ATTACK = 256,
	D20CAF_FREE_ACTION = 512,
	D20CAF_CHARGE = 1024,
	D20CAF_REROLL = 2048,
	D20CAF_REROLL_CRITICAL = 4096,
	D20CAF_TRAP = 8192,
	D20CAF_ALTERNATE = 16384,
	D20CAF_NO_PRECISION_DAMAGE = 32768,
	D20CAF_FLANKED = 65536,
	D20CAF_DEFLECT_ARROWS = 131072,
	D20CAF_FULL_ATTACK = 262144,
	D20CAF_AOO_MOVEMENT = 524288,
	D20CAF_BONUS_ATTACK = 1048576,
	D20CAF_THROWN = 2097152,

	D20CAF_SAVE_SUCCESSFUL = 8388608,
	D20CAF_SECONDARY_WEAPON = 16777216,
	D20CAF_MANYSHOT = 33554432,
	D20CAF_ALWAYS_HIT = 67108864,
	D20CAF_COVER = 134217728,
	D20CAF_COUNTERSPELLED = 268435456,
	D20CAF_THROWN_GRENADE = 536870912,
	D20CAF_FINAL_ATTACK_ROLL = 1073741824,
	D20CAF_TRUNCATED = 0x80000000,
};

static const char *d20ActionNames[] = {
	"D20A_UNSPECIFIED_MOVE",
	"D20A_UNSPECIFIED_ATTACK",
	"D20A_STANDARD_ATTACK",
	"D20A_FULL_ATTACK",
	"D20A_STANDARD_RANGED_ATTACK",
	"D20A_RELOAD",
	"D20A_5FOOTSTEP",
	"D20A_MOVE",
	"D20A_DOUBLE_MOVE",
	"D20A_RUN",
	"D20A_CAST_SPELL",
	"D20A_HEAL",
	"D20A_CLEAVE",
	"D20A_ATTACK_OF_OPPORTUNITY",
	"D20A_WHIRLWIND_ATTACK",
	"D20A_TOUCH_ATTACK",
	"D20A_TOTAL_DEFENSE",
	"D20A_CHARGE",
	"D20A_FALL_TO_PRONE",
	"D20A_STAND_UP",
	"D20A_TURN_UNDEAD",
	"D20A_DEATH_TOUCH",
	"D20A_PROTECTIVE_WARD",
	"D20A_FEAT_OF_STRENGTH",
	"D20A_BARDIC_MUSIC",
	"D20A_PICKUP_OBJECT",
	"D20A_COUP_DE_GRACE",
	"D20A_USE_ITEM",
	"D20A_BARBARIAN_RAGE",
	"D20A_STUNNING_FIST",
	"D20A_SMITE_EVIL",
	"D20A_LAY_ON_HANDS_SET",
	"D20A_DETECT_EVIL",
	"D20A_STOP_CONCENTRATION",
	"D20A_BREAK_FREE",
	"D20A_TRIP",
	"D20A_REMOVE_DISEASE",
	"D20A_ITEM_CREATION",
	"D20A_WHOLENESS_OF_BODY_SET",
	"D20A_USE_MAGIC_DEVICE_DECIPHER_WRITTEN_SPELL",
	"D20A_TRACK",
	"D20A_ACTIVATE_DEVICE_STANDARD",
	"D20A_SPELL_CALL_LIGHTNING",
	"D20A_AOO_MOVEMENT",
	"D20A_CLASS_ABILITY_SA",
	"D20A_ACTIVATE_DEVICE_FREE",
	"D20A_OPEN_INVENTORY",
	"D20A_ACTIVATE_DEVICE_SPELL",
	"D20A_DISABLE_DEVICE",
	"D20A_SEARCH",
	"D20A_SNEAK",
	"D20A_TALK",
	"D20A_OPEN_LOCK",
	"D20A_SLEIGHT_OF_HAND",
	"D20A_OPEN_CONTAINER",
	"D20A_THROW",
	"D20A_THROW_GRENADE",
	"D20A_FEINT,"
	"D20A_READY_SPELL",
	"D20A_READY_COUNTERSPELL",
	"D20A_READY_ENTER",
	"D20A_READY_EXIT",
	"D20A_COPY_SCROLL",
	"D20A_READIED_INTERRUPT",
	"D20A_LAY_ON_HANDS_USE",
	"D20A_WHOLENESS_OF_BODY_USE",
	"D20A_DISMISS_SPELLS",
	"D20A_FLEE_COMBAT",
	"D20A_USE_POTION",
};
